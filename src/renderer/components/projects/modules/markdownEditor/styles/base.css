/* ğŸ”¥ MarkdownEditor Base Styles - TipTap ê¸°ë³¸ ì„¤ì • */

/* TipTap ì—ë””í„° ì»¨í…Œì´ë„ˆ */
.markdown-editor,
div[class*="w-full h-full flex flex-col relative"],
/* TipTap EditorContent ìë™ ìƒì„± div */
.ProseMirror + [class*=""],
.tiptap-editor-container {
  @apply h-full w-full relative flex flex-col;
  
  /* ğŸ”¥ CRITICAL: overflow hidden - ì—ë””í„° ì™¸ë¶€ëŠ” ìŠ¤í¬ë¡¤ ë¶ˆê°€ */
  overflow: hidden !important;
  
  /* macOS í„°ì¹˜íŒ¨ë“œ ìµœì í™” */
  scroll-behavior: smooth;
  overscroll-behavior: contain;
}

/* ğŸ”¥ EditorContent ë˜í¼ (TipTapì—ì„œ ìë™ ìƒì„±ë˜ëŠ” div) */
.ec {
  flex: 1;
  min-height: 0;
  width: 100%;
  overflow: hidden;
}

/* ğŸ”¥ ë” ê°•ë ¥í•œ EditorContent ì„ íƒì */
[class*="EditorContent"],
div > .ProseMirror {
  display: flex;
  flex-direction: column;
}

/* ğŸ”¥ ProseMirror ì—ë””í„° ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
.ProseMirror {
  @apply outline-none px-8 py-4 leading-7 text-base;

  /* ğŸ”¥ CRITICAL: overflow-y: auto - ì—ë””í„° ë‚´ë¶€ì—ì„œë§Œ ìŠ¤í¬ë¡¤ */
  overflow-y: auto;
  overflow-x: hidden;
  
  /* ğŸ”¥ ë†’ì´ëŠ” ë¶€ëª¨ì—ì„œ ê´€ë¦¬ */
  height: 100%;
  
  /* ğŸ”¥ FIXED: box-sizingìœ¼ë¡œ íŒ¨ë”© í¬í•¨ */
  box-sizing: border-box;
  
  /* ğŸ”¥ í°íŠ¸ ì‹œìŠ¤í…œ ì—°ë™ - ê¸°ë³¸ í°íŠ¸ ì„¤ì • */
  font-family: var(--editor-font-family, var(--app-font-family));
  font-size: var(--app-font-size);
  color: var(--editor-text);
  background: var(--editor-bg);
  
  /* í„°ì¹˜íŒ¨ë“œ ì œìŠ¤ì²˜ ìµœì í™” */
  touch-action: pan-y pinch-zoom;
  -webkit-overflow-scrolling: touch;
}

/* ğŸ¯ í¬ì»¤ìŠ¤ ìƒíƒœ - ë¯¸ë‹ˆë©€í•˜ê²Œ */
.ProseMirror:focus {
  @apply outline-none;
  /* ğŸ”¥ FIXED: í…Œë‘ë¦¬ ì™„ì „ ì œê±° */
  border: none !important;
  box-shadow: none !important;
}

/* ğŸ”¥ ë¹ˆ ì—ë””í„° í”Œë ˆì´ìŠ¤í™€ë” */
.ProseMirror p.is-editor-empty::before {
  content: attr(data-placeholder);
  @apply text-gray-400 italic pointer-events-none float-left h-0;
}

/* ğŸ”¥ selection ìŠ¤íƒ€ì¼ ê°œì„  */
.ProseMirror ::selection {
  background: var(--editor-accent-light);
  color: var(--editor-text);
}

/* ğŸ”¥ ë“œë˜ê·¸ ìƒíƒœ ê°œì„  */
.ProseMirror.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

/* ğŸ”¥ ê¸°ë³¸ ë§ˆì§„ ë¦¬ì…‹ - ê°„ê²© ì¶•ì†Œ */
.ProseMirror > * + * {
  @apply mt-1;
}

/* ğŸ”¥ ëª¨ë“  ìì‹ ìš”ì†Œë„ overflow ì œí•œ */
.ProseMirror * {
  max-height: 100vh;
}

.ProseMirror li p {
  @apply mt-1 mb-0;
}

/* ğŸ”¥ TipTap í°íŠ¸ ì ìš©ì„ ìœ„í•œ CSS ë³€ìˆ˜ ìš°ì„ ìˆœìœ„ ì¡°ì • */
.ProseMirror {
  /* ê¸°ë³¸ í°íŠ¸ ì„¤ì •ì€ CSS ë³€ìˆ˜ ì‚¬ìš© */
  font-family: var(--editor-font-family, var(--app-font-family, -apple-system, BlinkMacSystemFont, system-ui, sans-serif));
  font-size: var(--app-font-size, 16px);
}

/* TipTap ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ í…ìŠ¤íŠ¸ ì ìš© ìš°ì„ ìˆœìœ„ ë†’ì„ */
.ProseMirror span[style*="font-family"],
.ProseMirror span[data-font-family] {
  /* ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ë„ë¡ CSS ë³€ìˆ˜ë³´ë‹¤ ìš°ì„ ìˆœìœ„ ë†’ì„ */
  font-family: inherit;
}

.ProseMirror span[style*="font-size"],
.ProseMirror span[data-font-size] {
  /* ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ë„ë¡ CSS ë³€ìˆ˜ë³´ë‹¤ ìš°ì„ ìˆœìœ„ ë†’ì„ */
  font-size: inherit;
}